{"mappings":"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","sources":["src/js/library.js","src/templates/libraryCards.hbs"],"sourcesContent":["import './lightSwitch';\nimport './teamLightbox';\nimport ls from './storage';\nimport { galleryApi } from './randomFilms';\nimport { onPosterClick } from './modal';\nimport createLibraryCards from '../templates/libraryCards.hbs';\nimport { updateDataForLocalStorage } from './localStorage';\nimport { changeColorBtnLibraryClick } from './colorButton';\n\nconst containerLibraryElement = document.querySelector('.library-film_list');\nconst buttonWatchEl = document.querySelector('button[data-watched]');\nconst buttonQueueEl = document.querySelector('button[data-queue]');\ncontainerLibraryElement.addEventListener('click', onPosterClick);\nconst alertInfo = document.querySelector('.library_alert');\nbuttonWatchEl.addEventListener('click', onButtonWatchEl);\nbuttonQueueEl.addEventListener('click', onButtonQueueEl);\n\ncreateMarkupWatchLocalStorage();\n\nfunction onButtonWatchEl(event) {\n  changeColorBtnLibraryClick(event, buttonQueueEl);\n  createMarkupWatchLocalStorage();\n}\n\nfunction onButtonQueueEl(event) {\n  changeColorBtnLibraryClick(event, buttonWatchEl);\n  createMarkupQueueLocalStorage();\n}\n\nfunction createMarkupWatchLocalStorage() {\n  updateDataForLocalStorage();\n  containerLibraryElement.innerHTML = '';\n\n  const arrayWatch = ls.load(`toWatch`);\n\n  if (!arrayWatch || arrayWatch.length === 0) {\n    alertInfo.innerHTML = \"You don't have watched films in your library\";\n    return;\n  }\n  for (let i of arrayWatch) {\n    galleryApi\n      .fetchMovieById(i)\n      .then(data => {\n        createMarkupForLibrary(data);\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nfunction createMarkupQueueLocalStorage() {\n  updateDataForLocalStorage();\n  containerLibraryElement.innerHTML = '';\n\n  const arrayQueue = ls.load(`queue`);\n\n  if (!arrayQueue || arrayQueue.length === 0) {\n    alertInfo.innerHTML = \"You don't have films in queue in your library\";\n    return;\n  }\n  for (let i of arrayQueue) {\n    galleryApi\n      .fetchMovieById(i)\n      .then(data => {\n        createMarkupForLibrary(data);\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nfunction createMarkupForLibrary(data) {\n  data.release_date = data.release_date.split('-')[0];\n  const markup = createLibraryCards(data);\n  containerLibraryElement.insertAdjacentHTML('beforeend', markup);\n}\n","  <li class='film-card card-item' data-id={{this.id}} data-action>\n    <img\n      {{#if this.poster_path}} \n      src='https://image.tmdb.org/t/p/w500/{{this.poster_path}}'\n      {{else}} \n      src='https://png.pngtree.com/png-clipart/20211121/original/pngtree-not-found-stamp-label-png-image_6948403.png'\n      {{/if}}\n      alt='Poster of movie \"{{this.original_title}}\"'\n      loading='lazy'\n      class=\"film-image\"\n      id=\"{{this.id}}\"\n    />\n    <div class='info'>\n      <p class='film-tittle'>\n        {{this.original_title}}\n      </p>\n      <p class='film-genre'>\n{{#each this.genres}}{{this.name}}{{#unless @last}}, {{/unless}}{{/each}}\n        &#8739;\n        {{this.release_date}} <span>{{this.vote_average}}</span>\n      </p>\n    </div>\n  </li>\n"],"names":["parcelRequire","$38b3b070b11573ce$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","nullContext","name","hash","fn","program","inverse","noop","loc","start","line","column","end","compiler","main","alias1","alias2","alias3","useData","$93effc6fc56091ad$var$containerLibraryElement","document","querySelector","$93effc6fc56091ad$var$buttonWatchEl","$93effc6fc56091ad$var$buttonQueueEl","addEventListener","$5xtVg","onPosterClick","$93effc6fc56091ad$var$alertInfo","$93effc6fc56091ad$var$createMarkupWatchLocalStorage","$UL92Z","updateDataForLocalStorage","innerHTML","arrayWatch","$jzQFI","default","load","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","i","value","$4QITu","galleryApi","fetchMovieById","then","$93effc6fc56091ad$var$createMarkupForLibrary","catch","error","console","log","err","return","release_date","split","markup","insertAdjacentHTML","event","$bu0Gx","changeColorBtnLibraryClick","arrayQueue","$93effc6fc56091ad$var$createMarkupQueueLocalStorage"],"version":3,"file":"library.cf1a96a3.js.map"}