{"mappings":"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","sources":["src/js/library.js","src/templates/libraryCards.hbs"],"sourcesContent":["import './lightSwitch';\nimport './teamLightbox';\nimport ls from './storage';\nimport { galleryApi } from './randomFilms';\nimport { onPosterClick } from './modal';\nimport createLibraryCards from '../templates/libraryCards.hbs';\nimport { updateDataForLocalStorage } from './localStorage';\nimport { changeColorBtnLibraryClick } from './colorButton';\n\nconst containerLibraryElement = document.querySelector('.library-film_list');\nconst buttonWatchEl = document.querySelector('button[data-watched]');\nconst buttonQueueEl = document.querySelector('button[data-queue]');\ncontainerLibraryElement.addEventListener('click', onPosterClick);\nconst alertInfo = document.querySelector('.library_alert');\nbuttonWatchEl.addEventListener('click', onButtonWatchEl);\nbuttonQueueEl.addEventListener('click', onButtonQueueEl);\n\ncreateMarkupWatchLocalStorage();\n\nfunction onButtonWatchEl(event) {\n  changeColorBtnLibraryClick(event, buttonQueueEl);\n  createMarkupWatchLocalStorage();\n}\n\nfunction onButtonQueueEl(event) {\n  changeColorBtnLibraryClick(event, buttonWatchEl);\n  createMarkupQueueLocalStorage();\n}\n\nfunction createMarkupWatchLocalStorage() {\n  updateDataForLocalStorage();\n  containerLibraryElement.innerHTML = '';\n\n  const arrayWatch = ls.load(`toWatch`);\n\n  if (!arrayWatch || arrayWatch.length === 0) {\n    alertInfo.innerHTML = \"You don't have watched films in your library\";\n    return;\n  }\n  for (let i of arrayWatch) {\n    galleryApi\n      .fetchMovieById(i)\n      .then(data => {\n        createMarkupForLibrary(data);\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nfunction createMarkupQueueLocalStorage() {\n  updateDataForLocalStorage();\n  containerLibraryElement.innerHTML = '';\n\n  const arrayQueue = ls.load(`queue`);\n\n  if (!arrayQueue || arrayQueue.length === 0) {\n    alertInfo.innerHTML = \"You don't have films in queue in your library\";\n    return;\n  }\n  for (let i of arrayQueue) {\n    galleryApi\n      .fetchMovieById(i)\n      .then(data => {\n        createMarkupForLibrary(data);\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nfunction createMarkupForLibrary(data) {\n  data.release_date = data.release_date.split('-')[0];\n  const markup = createLibraryCards(data);\n  containerLibraryElement.insertAdjacentHTML('beforeend', markup);\n}\n","  <li class='film-card card-item' data-id={{this.id}} data-action>\n    <img\n      {{#if this.poster_path}} \n      src='https://image.tmdb.org/t/p/w500/{{this.poster_path}}'\n      {{else}} \n      src='https://png.pngtree.com/png-clipart/20211121/original/pngtree-not-found-stamp-label-png-image_6948403.png'\n      {{/if}}\n      alt='Poster of movie \"{{this.original_title}}\"'\n      loading='lazy'\n      class=\"film-image\"\n      id=\"{{this.id}}\"\n    />\n    <div class='info'>\n      <p class='film-tittle'>\n        {{this.original_title}}\n      </p>\n      <p class='film-genre'>\n{{#each this.genres}}{{this.name}}{{#unless @last}}, {{/unless}}{{/each}}\n        &#8739;\n        {{this.release_date}} <span>{{this.vote_average}}</span>\n      </p>\n    </div>\n  </li>\n"],"names":["parcelRequire","$b066c1eafb0051c9$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","nullContext","name","hash","fn","program","inverse","noop","loc","start","line","column","end","compiler","main","alias1","alias2","alias3","useData","$1cafa503bc57b7a0$var$containerLibraryElement","document","querySelector","$1cafa503bc57b7a0$var$buttonWatchEl","$1cafa503bc57b7a0$var$buttonQueueEl","addEventListener","$bTcpz","onPosterClick","$1cafa503bc57b7a0$var$alertInfo","$1cafa503bc57b7a0$var$createMarkupWatchLocalStorage","$31u3U","updateDataForLocalStorage","innerHTML","arrayWatch","$5uEKZ","default","load","length","i","$jZsFh","galleryApi","fetchMovieById","then","$1cafa503bc57b7a0$var$createMarkupForLibrary","catch","error","console","log","release_date","split","markup","insertAdjacentHTML","event","$abEvz","changeColorBtnLibraryClick","arrayQueue","$1cafa503bc57b7a0$var$createMarkupQueueLocalStorage"],"version":3,"file":"library.b1bb82de.js.map"}